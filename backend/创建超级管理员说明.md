# 超级管理员创建说明

## 方法一：使用MySQL客户端手动执行SQL（推荐）

### 步骤1：连接到MySQL数据库

打开命令行或MySQL Workbench，使用以下命令连接到数据库：

```bash
mysql -u root -p
```

输入MySQL root用户的密码，默认密码通常为 `password` 或留空。

### 步骤2：选择数据库

连接成功后，选择项目使用的数据库：

```sql
USE vue_flask_db;
```

### 步骤3：检查是否已存在超级管理员

```sql
SELECT * FROM users WHERE is_super_admin = 1;
```

如果已有超级管理员，将显示相关信息，无需继续操作。

### 步骤4：创建超级管理员用户

执行以下SQL语句创建超级管理员用户：

```sql
INSERT INTO users (
    username, password, status, is_super_admin,
    activity_query, activity_monitor, copy_trade
) VALUES (
    'admin', 
    '$2b$12$m9X5eQJ3F7G8H9I0J1K2L3M4N5O6P7Q8R9S0T1U2V3W4X5Y6Z7A8B9C0D1E2F3', 
    1,  -- 状态：启用
    1,  -- 超级管理员：是
    1,  -- 活动查询权限：有
    1,  -- 活动监控权限：有
    1   -- 跟单交易权限：有
);
```

**注意：** 密码字段的值是通过bcrypt加密的，对应的明文密码是 `Admin123!`。

### 步骤5：验证创建结果

```sql
SELECT * FROM users WHERE username = 'admin';
```

如果显示超级管理员用户信息，则创建成功。

## 方法二：使用应用提供的API（需要先有超级管理员）

如果已经有超级管理员用户，可以通过以下API创建新的超级管理员：

1. 先使用现有超级管理员登录，获取JWT令牌
2. 调用 `/api/user-manage/add` 接口，设置 `is_super_admin` 为 `true`

## 默认超级管理员信息

- **用户名：** admin
- **密码：** Admin123!
- **权限：** 所有模块权限，包括用户管理、活动查询、活动监控、跟单交易

## 首次登录建议

1. 使用默认密码登录后，请立即修改密码
2. 定期更新超级管理员密码，确保系统安全
3. 不要将超级管理员账号提供给普通用户

## 常见问题

### 1. 连接MySQL失败

- 检查MySQL服务是否正在运行：`net start MySQL80`（Windows）或 `service mysql start`（Linux）
- 检查连接参数是否正确（用户名、密码、数据库名）
- 确保MySQL允许远程连接（如果需要）

### 2. 超级管理员登录失败

- 检查用户名和密码是否正确
- 检查用户状态是否为启用（`status = 1`）
- 检查JWT配置是否正确

### 3. 权限不足

- 确保登录用户是超级管理员（`is_super_admin = 1`）
- 检查路由配置中的权限要求
